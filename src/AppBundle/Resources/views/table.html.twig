{% use "@app/widgets.html.twig" %}
{% use "@app/misc/widget_text_max_lines.html.twig" %}

<div class="panel panel-default app-list-table">
    
    {% if view.top|length or view.title|length %}
        <div class="panel-heading">
            {#<a class="btn btn-info btn-xs" href="{{ path('admin.create', {model: (view.model.name|replace({'commerce.':''}))}) }}">Create</a>#}
            
            {% if view.title|length %}
                <strong>{{ view.title }}</strong>
            {% endif %}
            
            {% if view.top|length %}
                <div style="float: right">
                    {% for field in (view.top | view_fields(data[0], false)) %}
                        {{ block('widget_field') }}
                    {% endfor %}
                </div>
            {% endif %}
        </div>
    {% endif %}
    
    <div class="panel-body padding-30">
        <div class="table-responsive">
            <table class="table table-hover table-bordered table-striped" data-toggle="table">
                {% if data | length %}
                    {% set fields = (view.fields | view_fields(data[0])) %}
                    
                    <thead>
                    <tr>
                        {#<th></th>#}
                        {% for field in fields %}
                            <th>
                                <div class="th-inner">
                                    {{ field.field.name|humanize|ucwords }}
                                </div>
                            </th>
                        {% endfor %}
                    </tr>
                    </thead>
                    <tbody>
                    {% for entity in data %}
                        <tr>
                            {#<td>
                                <a href="{{ path('admin.edit', {id: entity.id, model: (view.model.name|replace({'commerce.':''}))}) }}" class="fa fa-pencil"></a>
                                <a href="" onclick="if (confirm('Are you sure?')) {$.redirect('{{ path('admin.remove', {model: (view.model.name|replace({'commerce.':''}))}) }}', {id: {{ entity.id }}})}; return false;" class="fa fa-remove text-red"></a>
                            </td>#}
                            {% for field in fields %}
                                <td>
                                    {{ block('widget_field') }}
                                </td>
                            {% endfor %}
                        </tr>
                    {% endfor %}
                    </tbody>
                {% else %}
                    <tr>
                        <td class="text-center">No Data</td>
                    </tr>
                {% endif %}
            </table>
        </div>
        
        {% include '@app/misc/pagination.html.twig' %}
    </div>
</div>